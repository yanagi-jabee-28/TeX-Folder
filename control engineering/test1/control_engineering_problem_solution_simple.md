 # 制御工学の問題と解説

## 問題2

**問題：**
開ループ伝達関数が $G(s)=\frac{K}{s(1+sT)}$ の閉ループ系について考えます。
入力 $r(t)=1+t \, (t \ge 0)$ に対する定常偏差を 0.1、減衰率 $\zeta=0.5$ とするための $K$ と $T$ の値を求めてください。

---

### 解説

#### 1. 閉ループ伝達関数の導出
まず、閉ループ伝達関数 $W(s)$ を求めます。
$$W(s) = \frac{G(s)}{1+G(s)} = \frac{\frac{K}{s(1+sT)}}{1+\frac{K}{s(1+sT)}} = \frac{K}{s(1+sT)+K} = \frac{K}{s^2T+s+K}$$
これを2次系の標準形に合わせるため、$T$ で割ります。
$$W(s) = \frac{K/T}{s^2 + \frac{1}{T}s + \frac{K}{T}}$$

#### 2. 特性方程式と減衰率
2次遅れ系の標準形は $W(s) = \frac{\omega_n^2}{s^2+2\zeta\omega_n s + \omega_n^2}$ です。
この特性方程式 $s^2+2\zeta\omega_n s + \omega_n^2$ と、先ほど求めた $s^2 + \frac{1}{T}s + \frac{K}{T}$ の係数を比較します。
$$\omega_n^2 = \frac{K}{T} \quad \cdots(1)$$
$$2\zeta\omega_n = \frac{1}{T} \quad \cdots(2)$$
問題の条件 $\zeta=0.5$ を(2)式に代入すると、
$$\omega_n = \frac{1}{T}$$
これを(1)式に代入します。
$$\left(\frac{1}{T}\right)^2 = \frac{K}{T} \implies \frac{1}{T^2} = \frac{K}{T}$$
$T \neq 0$ なので、両辺に $T^2$ を掛けて、$1 = KT$ という関係式が得られます。

#### 3. 定常偏差の計算
定常偏差 $e_{ss}$ は終値定理を用いて計算します。偏差 $E(s)$ は $E(s) = \frac{1}{1+G(s)}R(s)$ で与えられます。
$e_{ss} = \lim_{t \to \infty} e(t) = \lim_{s \to 0} sE(s) = \lim_{s \to 0} s \frac{1}{1+G(s)} R(s)$
入力は $r(t)=1+t$ なので、ラプラス変換すると $R(s) = \mathcal{L}[1+t] = \frac{1}{s} + \frac{1}{s^2} = \frac{s+1}{s^2}$ となります。

この制御系は開ループ伝達関数 $G(s)=\frac{K}{s(1+sT)}$ が $s$ の積分器を1つ持つため、1型サーボ系です。
1型サーボ系では、入力がステップ入力 $r(t)=1$ の場合、定常位置偏差はゼロになります。
一方、ランプ入力 $r(t)=t$ の場合、定常速度偏差は有限の値 $\frac{1}{K_v}$ となります。ここで $K_v$ は速度偏差定数です。

重ね合わせの理により、入力 $r(t)=1+t$ に対する定常偏差は、ステップ入力に対する定常偏差とランプ入力に対する定常偏差の和となります。
- ステップ入力 $r_1(t)=1$ に対する定常位置偏差 $e_{ss1}$:
  $e_{ss1} = \lim_{s \to 0} s \frac{1}{1+G(s)} \frac{1}{s} = \frac{1}{1+\lim_{s \to 0}G(s)} = \frac{1}{1+\lim_{s \to 0}\frac{K}{s(1+sT)}} = \frac{1}{1+\infty} = 0$
- ランプ入力 $r_2(t)=t$ に対する定常速度偏差 $e_{ss2}$:
  $e_{ss2} = \lim_{s \to 0} s \frac{1}{1+G(s)} \frac{1}{s^2} = \lim_{s \to 0} \frac{1}{s(1+G(s))} = \lim_{s \to 0} \frac{1}{s+sG(s)}$
  ここで、速度偏差定数 $K_v$ を求めます。
  $K_v = \lim_{s \to 0} sG(s) = \lim_{s \to 0} s \frac{K}{s(1+sT)} = \lim_{s \to 0} \frac{K}{1+sT} = K$
  したがって、定常速度偏差は次のようになります。
  $e_{ss2} = \frac{1}{K_v} = \frac{1}{K}$

よって、入力 $r(t)=1+t$ に対する全体の定常偏差 $e_{ss}$ は、
$e_{ss} = e_{ss1} + e_{ss2} = 0 + \frac{1}{K} = \frac{1}{K}$
となります.


#### 4. KとTの決定
問題の条件より $e_{ss} = 0.1$ なので、
$$\frac{1}{K} = 0.1 \implies K = 10$$
先ほど得られた関係式 $1=KT$ に $K=10$ を代入すると、
$$1 = 10 \cdot T \implies T = 0.1$$

**答え: $K=10, T=0.1$**

---

## 問題3

**問題：**
ある制御系において、安定性を保ち、かつ定常速度偏差が0.05以下となるゲイン定数 $K$ の範囲を求めてください。
ただし、$A(s)=\frac{K(1+0.65s)}{1+2s}, B(s)=\frac{5}{s(1+s)}$ とします。

---

### 解説

#### 1. 開ループ伝達関数の導出
開ループ伝達関数 $G(s)$ は $A(s)$ と $B(s)$ の積です。
$$G(s) = A(s)B(s) = \frac{K(1+0.65s)}{1+2s} \cdot \frac{5}{s(1+s)} = \frac{5K(1+0.65s)}{s(1+s)(1+2s)}$$

#### 2. 安定性の条件（ラウス・フルビッツ法）
安定条件を調べるため、特性方程式 $1+G(s)=0$ を立てます。
$$1 + \frac{5K(1+0.65s)}{s(1+s)(1+2s)} = 0$$
$$s(1+s)(1+2s) + 5K(1+0.65s) = 0$$
$$2s^3+3s^2+(1+3.25K)s+5K=0$$
この式からラウス配列を作成します。
$$\begin{array}{c|cc}
s^3 & 2 & 1+3.25K \\
s^2 & 3 & 5K \\
s^1 & b_1 & 0 \\
s^0 & c_1 & 0 \\
\end{array}$$
ここで、
$$b_1 = \frac{3(1+3.25K) - 2(5K)}{3} = \frac{3-0.25K}{3}$$
$$c_1 = 5K$$
安定であるためには、ラウス配列の第1列の要素がすべて正である必要があります。
1. $2 > 0$ (OK)
2. $3 > 0$ (OK)
3. $b_1 > 0 \implies 3-0.25K > 0 \implies 12 > K$
4. $c_1 > 0 \implies 5K > 0 \implies K > 0$

よって、安定性のための $K$ の範囲は $0 < K < 12$ です。

#### 3. 定常速度偏差の条件
定常速度偏差 $e_{ss} = \frac{1}{K_v}$ です。まず速度偏差定数 $K_v$ を求めます。
$$K_v = \lim_{s \to 0} sG(s) = \lim_{s \to 0} \frac{5K(1+0.65s)}{(1+s)(1+2s)} = 5K$$
$e_{ss} = \frac{1}{5K}$ となります。
問題の条件より $e_{ss} \le 0.05$ なので、
$$\frac{1}{5K} \le 0.05 \implies \frac{1}{5K} \le \frac{1}{20}$$
逆数をとると、
$$5K \ge 20 \implies K \ge 4$$

#### 4. 最終的なKの範囲
安定性の条件 ($0 < K < 12$) と定常偏差の条件 ($K \ge 4$) の両方を満たす範囲を求めます。

**答え: $4 \le K < 12$**
